

<!DOCTYPE html>
<html>
<head>
	<title>COOKIE Lab04 Tran Huy Duc 1911071</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body style="margin: 50px 15px 0 15px">
	<div style="text-align:center;"><h1>Cookie</h1></div>
	<form method="POST">
		<div class="form-group">
	      <label>Key</label>
	      <input id='key' type="text" class="form-control" placeholder="Enter cookie's key">
	    </div>

		<div class="form-group">
			<label>Value</label>
			<input id='value' type="text" class="form-control" placeholder="Enter cookie's key">
		</div>
	</form>
		<div style="margin-top:20px"class="cookie-btn">
			<button onclick="showCookies()"class="btn btn-primary stretched-link">List of cookies</a>
		</div>

		
			
		<div class="container">
		 <div class="card-body">
		 	<h1 class="heading"></h1>
            <table id="table"style="width: 800px; " class="table table-hover">                  	                          
               
            </table>
         </div>
	

     </div>



	<script type="text/javascript">
		function getAllCookies(){
			let decodedCookie = decodeURIComponent(document.cookie);
		  	let cookieArr = decodedCookie.split('; ');	
		  	let data = [];
		  	for(let i = 0; i <cookieArr.length; i++) {
		    	var str = cookieArr[i].split('=');	
		    	// data[i] = {
		    	// 	str[0]: str[1];
		    	// }
		    	let obj = {}
		    	obj[str[0]] = str[1];
		    	data[i] = obj;
		 	}
		 	return data;
		};	
		function showCookies(){	
			const table = document.getElementById('table');
			const heading = document.querySelector('.heading');
			heading.textContent = 'List of all cookies';		
			let cookies = getAllCookies();
			console.log(cookies);			
			const htmls = cookies.map(function(cookie, index){
      			return `<tr> <th>${++index}</th> <th>${Object.keys(cookie)}</th><td>${Object.values(cookie)}</td></tr>`;
    		});
    		table.innerHTML = htmls.join("");
		 
		}


		// var submitBtn = document.querySelector('#submit-btn');
		// submitBtn.addEventListener('click', function(){
		// 	var email = document.getElementById('email').value;
		// 	var password = document.getElementById('password').value;
		// 	document.cookie = 'email=' + email;
		// 	document.cookie = 'password=' + password;
		
		// })

			
		
	</script>
</body>
</html>